replicas: 2
nodeSelector:
  agentpool: defaultpool
plugins:
  - grafana-azure-monitor-datasource
  - vonage-status-panel
  - flant-statusmap-panel
admin:
  existingSecret: grafana-admin-user
grafana.ini:
  auth.github:
    name: github
    enabled: true
    allow_sign_up: true
    client_id: __GitHubClientId__
    client_secret: __GitHubClientSecret__
    team_ids: '__GitHubTeamIds__'
    allowed_organizations: __GitHubAllowedOrganizations__
  server:
    root_url: __RootUrl__
  database:
    type: mysql
    host: __MysqlServerName__.mysql.database.azure.com:3306
    name: grafana
    user: __MySqlUsername__
    password: __MySqlPassword__
    ssl_mode: skip-verify
    ca_cert_path: /etc/ssl/certs/Baltimore_CyberTrust_Root.pem
  remote_cache:
    type: redis
    connstr: __RedisConnectionString__
  external_image_storage:
    provider: azure_blob
  external_image_storage.azure_blob:
    account_name: __StorageAccountName__
    account_key: __StorageAccountKey__
    container_name: alerts
datasources:
  datasources.yaml:
    apiVersion: 1
    datasources:
      - name: "Azure Monitor - Dev/Test"
        orgId: 3
        type: "grafana-azure-monitor-datasource"
        access: "proxy"
        jsonData:
          cloudName: "azuremonitor"
          clientId: __AzureMonitorClientId__
          subscriptionId: __AzureSubscriptionId__
          tenantId: __AzureTenantId__
          azureLogAnalyticsSameAs: true
        secureJsonData:
          clientSecret: __AzureMonitorClientSecret__
      - name: "Azure Monitor - PreProduction"
        orgId: 3
        type: "grafana-azure-monitor-datasource"
        access: "proxy"
        jsonData:
          cloudName: "azuremonitor"
          clientId: __AzureMonitorPreProdClientId__
          subscriptionId: __AzurePreProdSubscriptionId__
          tenantId: __AzureFCSTenantId__
          azureLogAnalyticsSameAs: true
        secureJsonData:
          clientSecret: __AzureMonitorPreProdClientSecret__
      - name: "Azure Monitor - Production"
        orgId: 3
        type: "grafana-azure-monitor-datasource"
        access: "proxy"
        jsonData:
          cloudName: "azuremonitor"
          clientId: __AzureMonitorProdClientId__
          subscriptionId: __AzureProdSubscriptionId__
          tenantId: __AzureFCSTenantId__
          azureLogAnalyticsSameAs: true
        secureJsonData:
          clientSecret: __AzureMonitorProdClientSecret__
      - name: "MSSQL - das-pp-fcast-db"
        orgId: 3
        type: mssql
        url: __PreProdSharedSqlServerName__.database.windows.net:1433
        database: __PreProdForecastingDatabaseName__
        user: __ForecastingServiceAccountUsername__
        jsonData:
          maxOpenConns: 0
          maxIdleConns: 2
          connMaxLifetime: 14400
        secureJsonData:
          password:  "__PreProdForecastingServiceAccountPassword__"
      - name: "MSSQL - das-prd-fcast-db"
        orgId: 3
        type: mssql
        url: __ProdSharedSqlServerName__.database.windows.net:1433
        database: __ProdForecastingDatabaseName__
        user: __ForecastingServiceAccountUsername__
        jsonData:
          maxOpenConns: 0
          maxIdleConns: 2
          connMaxLifetime: 14400
        secureJsonData:
          password:  "__ProdForecastingServiceAccountPassword__"
      - name: "MSSQL - das-prd-eas-fin-db"
        orgId: 3
        type: mssql
        url: __ProdSharedSqlServerName__.database.windows.net:1433
        database: __ProdEmployerFinDatabaseName__
        user: __ProdEmployerFinServiceAccountUsername__
        jsonData:
          maxOpenConns: 0
          maxIdleConns: 2
          connMaxLifetime: 14400
        secureJsonData:
          password:  "__EmployerFinServiceAccountPassword__"
      - name: "MSSQL - das-prd-eas-acc-db"
        orgId: 3
        type: mssql
        url: __ProdSharedSqlServerName__.database.windows.net:1433
        database: __ProdEmployerAccDatabaseName__
        user: __ProdEmployerAccServiceAccountUsername__
        jsonData:
          maxOpenConns: 0
          maxIdleConns: 2
          connMaxLifetime: 14400
        secureJsonData:
          password:  "__ProdEmployerAccServiceAccountPassword__"
ingress:
  enabled: true
  annotations:
    kubernetes.io/ingress.class: traefik
  path: /
  hosts:
    - __CustomDomain__
  tls:
    - hosts:
      - __CustomDomain__
      secretName: __TlsSecretName__
